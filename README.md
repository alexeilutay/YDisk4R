YDisk4R – набор R функций для работы с Yandex Disk
================
Лутай А.В.
2023-06-15

- <a href="#установка" id="toc-установка">Установка</a>
- <a href="#перечень-функций" id="toc-перечень-функций">Перечень
  функций</a>
- <a href="#обратная-связь" id="toc-обратная-связь">Обратная связь</a>

### Установка

``` r
devtools::install_github("alexeilutay/YDisk4R")
```

### Перечень функций

Приведенные ниже примеры описывают не все возможности функций.

Перед началом работы рекомендуется [получить Yandex
OAuth](https://yandex.ru/dev/id/doc/ru/register-client) и принять
решение о том, где он будет храниться на компьютере.

**Хранение в Renviron**

Этот способ считается недостаточно безопасным (файл .Renviron хранится в
домашней директории компьютера в виде текстового файл), но… who cares,
да?

- открыть file.edit("\~/.Renviron")

- записать токен в строке вида YDisk=OAuth y0\_…… (не забудьте о
  переносе строки в конце)

- сохранить файл "\~/.Renviron"

**set_YD_oauth**

Функция ищет значение YDisk в Global Environment или другое,
начинающееся с OAuth y0\_… Найденное значение использует в качестве
токена для обращения к Yandex Disk.

``` r
YD_oauth <- set_YD_oauth()
```

------------------------------------------------------------------------

**get_YD_folders**

Возвращает список папок по указанному пути. По умолчанию, path -
корневая папка Yandex Disk, limit = 25.

``` r
get_YD_folders(path = "disk:/Загрузки/", token = set_YD_oauth())
```

------------------------------------------------------------------------

**get_YD_files**

Возвращает список файлов по указанному пути. По умолчанию, path -
корневая папка Yandex Disk, а limit = 25.

``` r
get_YD_files(path = "disk:/Загрузки/", limit = 5, token = set_YD_oauth())
```

------------------------------------------------------------------------

**upload_file_2YD**

Загружает файл в указанную папку Yandex Disk.

``` r
upload_file_2YD(path = "disk:/Загрузки/", 
                disk_fname = "../../bookmarks.html", 
                 overwrite = TRUE, token = set_YD_oauth())
```

Выводит статус загрузки – если видите 201, значит файл на месте.

**my_public_files**

Возвращает полный список public-файлов со всеми деталями в виде
dataframe.

``` r
my_public_files(limit = 100, token = set_YD_oauth())
```

## Обратная связь

Если сделаете pull request, постараюсь принять.
